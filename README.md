# Проектная работа "Веб-ларек"

## Используемый стек

- **HTML**: Разметка страниц.
- **SCSS**: Стилизация компонентов.
- **TypeScript**: Логика приложения.
- **Webpack**: Инструмент для сборки модулей.

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
# Архитектура
## СЛОЙ МОДЕЛЬ

### Класс Product  
Назначение: Описывает товар в магазине.

Параметры:  
id (number) — уникальный идентификатор товара.  
name (string) — название товара.  
description (string) — описание товара.  
price (number) — цена товара.  
category (string) — категория товара.  

Поля класса:  
id (number) — уникальный идентификатор товара.  
name (string) — название товара.  
description (string) — описание товара.  
price (number) — цена товара.  
category (string) — категория товара.  

### Класс Cart

Назначение: Описывает корзину покупателя.  

Параметры: Не принимает параметры.  

Поля класса:  
items (CartItem[]) — массив элементов в корзине.  

Методы класса:  
addItem(product: Product, quantity: number): void — добавляет товар в корзину.  
removeItem(productId: number): void — удаляет товар из корзины.  
getTotalPrice(): number — возвращает общую стоимость товаров в корзине.  

### Класс Order  

Назначение: Описывает заказ покупателя.  

Параметры:  
items (CartItem[]) — массив элементов в заказе.  
total (number) — общая стоимость заказа.  
address (string) — адрес доставки.  
paymentMethod (string) — способ оплаты.  
contactEmail (string) — контактный email.  
contactPhone (string) — контактный телефон.  

Поля класса:  
items (CartItem[]) — массив элементов в заказе.  
total (number) — общая стоимость заказа.  
address (string) — адрес доставки.  
paymentMethod (string) — способ оплаты.  
contactEmail (string) — контактный email.  
contactPhone (string) — контактный телефон.  

## СЛОЙ ПРЕДСТАВЛЕНИЯ  

### Класс ProductCard  

Назначение: Отображает карточку товара.  

Параметры:  
product (Product) — объект товара для отображения.  

Поля класса:  
product (Product) — объект товара.  
element (HTMLElement) — корневой элемент карточки товара.  

Методы класса:  
render(): void — рендерит карточку товара.  

### Класс CartView 

Назначение: Отображает корзину.  

Параметры:  
cart (Cart) — объект корзины для отображения.  

Поля класса:  
cart (Cart) — объект корзины.  
element (HTMLElement) — корневой элемент корзины.  

Методы класса:  
render(): void — рендерит корзину.  

### Класс CheckoutForm

Назначение: Отображает форму оформления заказа.  

Поля класса:  
element (HTMLElement) — корневой элемент формы.  

Методы класса:  
render(): void — рендерит форму.  
onSubmit(callback: (order: Order) => void): void — устанавливает обработчик события отправки формы.  

### Класс OrderConfirmation

Назначение: Отображает подтверждение заказа.  

Поля класса:  
element (HTMLElement) — корневой элемент подтверждения.  

Методы класса:  
render(): void — рендерит подтверждение заказа.  

## СЛОЙ ПРЕЗЕНТЕРА
### Класс Presenter

Назначение: Связывает модель и представление.  

Параметры:  
model (any) — модель данных.  
view (any) — представление данных.  

Поля класса:  
model (any) — модель данных.  
view (any) — представление данных.  

Методы класса:  
initialize(): void — инициализирует взаимодействие между моделью и представлением.  

## Пример взаимодействия

1. Событие в представлении: Пользователь нажимает кнопку "Купить" на карточке товара.

Класс: ProductCard  
Событие: click на кнопке "Купить"  

2. Обработка события презентером: Презентер обрабатывает событие и вызывает метод модели для добавления товара в корзину.

Класс: Presenter  
Метод: addItem(product: Product, quantity: number)  

3. Изменение данных в модели: Модель обновляет данные корзины и генерирует событие.

Класс: Cart  
Метод: addItem(product: Product, quantity: number)  
Событие: cartUpdated  

4. Запрос данных и обновление представления: Презентер обрабатывает событие, запрашивает обновленные данные у модели и вызывает рендер представления.

Класс: Presenter  
Метод: getTotalPrice()  
Класс: CartView  
Метод: render()  

5. Перерисовка представления: Представление перерисовывается, отображая обновленные данные корзины.

Класс: CartView  
Метод: render()  